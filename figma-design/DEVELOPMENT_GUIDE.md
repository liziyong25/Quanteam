# 开发流程说明

## 🎯 当前状态

✅ **已完成**：
- 首页布局（4个模块卡片）
- 机构行为分析完整功能
- 模拟数据展示
- 响应式设计
- 深色专业主题

🔄 **待对接**：
- 真实API接口
- 其他3个已有模块的集成

---

## 📋 与您交互的方式

### 1. **页面设计调整**

您可以随时告诉我：

#### 颜色和样式
- "把蓝色主题改成绿色"
- "卡片圆角调大一点"
- "标题字体调大"
- "图表线条加粗"

#### 布局和间距
- "首页卡片排成3列"
- "统计卡片之间间距加大"
- "热力图单元格调小"

#### 组件修改
- "删除页脚"
- "添加一个侧边栏"
- "顶部导航加个搜索框"
- "热力图增加点击事件"

### 2. **功能开发**

#### 添加新功能
```
"给筛选按钮添加功能面板，包含：
- 机构类型多选
- 日期范围选择器
- 应用和重置按钮"
```

#### 修改交互
```
"点击表格行时跳转到详情页"
"图表支持导出为图片"
"添加数据刷新提示动画"
```

### 3. **API对接**

当您准备好后端接口时：

```
"我的API地址是 http://localhost:8000，
请帮我对接 /api/institutional-flow/overview 接口"
```

我会：
1. 更新 `.env` 配置
2. 修改 API service 代码
3. 测试数据格式
4. 处理错误情况

### 4. **性能优化**

```
"数据太多了，图表渲染很慢"
"添加虚拟滚动"
"添加骨架屏加载状态"
```

---

## 🔧 修改示例

### 示例 1：改变颜色方案

**您说**：
> "把所有绿色改成青色（cyan），红色改成橙色（orange）"

**我会做**：
- 修改 StatCard 组件的配色
- 修改图表的颜色配置
- 修改热力图的渐变色
- 确保整体风格一致

### 示例 2：添加筛选面板

**您说**：
> "点击筛选按钮时，显示一个侧边面板，里面有：
> - 机构类型复选框
> - 日期范围选择器
> - 确定和重置按钮"

**我会做**：
1. 创建 FilterPanel 组件
2. 使用 React state 管理筛选条件
3. 添加侧边栏滑入动画
4. 连接到API调用

### 示例 3：修改表格

**您说**：
> "Top 10 表格改成卡片形式，鼠标悬停时高亮整张卡片"

**我会做**：
- 将 table 重构为 grid 布局
- 添加卡片样式
- 添加 hover 效果
- 保持原有数据展示

---

## 📁 项目文件结构

```
/src
  /app
    /components
      - InstitutionalFlowDashboard.tsx  ← 机构行为主页面
      - ModuleCard.tsx                   ← 首页模块卡片
      - StatCard.tsx                     ← KPI统计卡片
      - Heatmap.tsx                      ← 热力图组件
      /ui                                ← shadcn/ui 组件库
    - App.tsx                            ← 主入口（路由）
  
  /services
    - institutional-flow.ts              ← API调用（⭐对接API时修改）
  
  /types
    - institutional-flow.ts              ← TypeScript类型定义
  
  /styles
    - theme.css                          ← 主题配置（颜色、暗黑模式）
    - tailwind.css                       ← Tailwind配置
```

---

## 🚀 快速命令

### 我可以为您快速执行的操作

```bash
# 调整某个组件
"修改 StatCard 的背景色为半透明"

# 添加新页面
"创建一个机构详情页面，显示单个机构的历史数据"

# 优化性能
"添加图表懒加载"

# 修复问题
"热力图在移动端显示不全，请修复"
```

---

## 💡 开发建议

### 下一步可以做的事情

1. **筛选功能** ⭐ 推荐
   - 添加筛选面板
   - 支持多维度筛选
   - 筛选后重新加载数据

2. **导出功能**
   - 导出Excel
   - 导出PDF报告
   - 图表导出为图片

3. **详情页钻取**
   - 点击机构查看详情
   - 点击债券查看历史
   - 面包屑导航

4. **实时数据**
   - WebSocket连接
   - 自动刷新
   - 数据更新提示

5. **移动端优化**
   - 简化图表展示
   - 触摸手势支持
   - 响应式表格

---

## 📞 如何与我沟通

### 最有效的方式

✅ **好的请求方式**：
- "把净买入卡片的字体调大20%"
- "添加一个日期选择器，默认选中最近30天"
- "表格增加排序功能，点击表头可以按该列排序"

❌ **不够清晰的方式**：
- "优化一下"（什么需要优化？）
- "这里不太好"（哪里不好？怎么改？）
- "加个功能"（什么功能？具体需求？）

### 提供截图或示例

如果您有参考设计：
```
"我看到Bloomberg的这个页面（截图），
能不能做成类似的布局？"
```

---

## 🔄 迭代开发流程

### 标准流程

1. **您提出需求**
   - 描述要改什么
   - 提供参考（如果有）

2. **我确认理解**
   - 复述您的需求
   - 提出实现方案

3. **我实现修改**
   - 修改代码
   - 确保不破坏现有功能

4. **您查看效果**
   - 预览页面
   - 提出进一步调整

5. **继续迭代**
   - 重复以上步骤

---

## ⚡ 快速开始

### 现在就可以尝试：

```
"把首页Logo改成我公司名称的首字母"
"统计卡片改成2行8列"
"图表配色改成紫色主题"
"热力图增加数值标签"
```

我会立即为您修改！😊

---

**准备好了吗？告诉我您想要调整什么！** 🚀
